plugins {
    id 'org.jetbrains.intellij' version '0.0.40'
    id 'net.saliman.cobertura' version '2.2.8'
}

apply plugin: 'java'
apply plugin: 'org.jetbrains.intellij'
apply plugin: 'net.saliman.cobertura'

group 'org.concordion.plugin.idea'
version '0.6-SNAPSHOT'

sourceCompatibility = 1.8
targetCompatibility = 1.8

configurations {
    provided
}
sourceSets {
    main { compileClasspath += configurations.provided }
}

wrapper {
    gradleVersion = '2.7'
}

repositories {
    mavenLocal()
    mavenCentral()
}

intellij {
    pluginName 'IdeaConcordionSupport'
    plugins 'junit'
    version '15.0.3'
    downloadSources false
    updateSinceUntilBuild false
}

dependencies {
    provided fileTree(dir: 'libs', include: '*.jar')
    testCompile 'org.assertj:assertj-core:3.1.0'
    testCompile 'org.mockito:mockito-all:1.10.19'
}

sourceSets {
    main {
        java {
            srcDirs = ['gen', 'src']
        }
        resources {
            srcDir 'resources'
        }
    }
    test {
        java {
            srcDir 'tests'
        }
    }
}

