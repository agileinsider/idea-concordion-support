<idea-plugin version="2">
  <id>com.gman.idea.plugin.concordion</id>
  <name>Concordion support</name>
  <version>0.1-SNAPSHOT</version>
  <vendor email="gmandnepr@gmail.com" url="https://github.com/gmandnepr/IdeaConcordionSupport">Ievgen Degtiarenko</vendor>

  <description><![CDATA[
<p>
    <br/>This plugin provides support for <a href="http://concordion.org/">http://concordion.org/</a> (1.5.1) testing framework.
    <br/><b>Plugin homepage</b>
    <br/><a href="https://github.com/gmandnepr/IdeaConcordionSupport">https://github.com/gmandnepr/IdeaConcordionSupport</a>
    <br/>Issues, feature proposals and tested pull requests are welcome
</p>
    ]]></description>

  <change-notes><![CDATA[
<p>
    Version 0.1<br/>
    <ul>
        <li>Autocomplete with concordion commands</li>
        <li>Autocomplete with fields and methods of concordion runner class</li>
        <li>Navigation between concordion html spec and java runner class using (S) icon over concordion files and navigation action</li>
        <li>Ctrl+click navigation and usages search for concordion expressions</li>
        <li>Quick fields and methods creation from usages</li>
        <li>Renaming support</li>
    </ul>
</p>
    ]]></change-notes>

  <idea-version since-build="133"/>

  <extensions defaultExtensionNs="com.intellij">
    <fileTypeFactory implementation="com.gman.idea.plugin.concordion.lang.ConcordionFileTypeFactory"/>
    <lang.parserDefinition language="Concordion" implementationClass="com.gman.idea.plugin.concordion.lang.ConcordionParserDefinition"/>
    <multiHostInjector implementation="com.gman.idea.plugin.concordion.lang.ConcordionLanguageInjector"/>
    <lang.syntaxHighlighterFactory key="Concordion" implementationClass="com.gman.idea.plugin.concordion.formatter.ConcordionSyntaxHighlighterFactory"/>

    <psi.referenceContributor language="Concordion" implementation="com.gman.idea.plugin.concordion.reference.ConcordionReferenceContributor"/>

    <annotator language="Concordion" implementationClass="com.gman.idea.plugin.concordion.annotator.UnresolvedMemberAnnotator"/>

    <completion.contributor language="HTML" implementationClass="com.gman.idea.plugin.concordion.autocomplete.ConcordionCommandsCompletionContributor"/>
    <completion.contributor language="HTML" implementationClass="com.gman.idea.plugin.concordion.autocomplete.ConcordionNonExpressionCompletionContributor"/>
    <completion.contributor language="Concordion" implementationClass="com.gman.idea.plugin.concordion.autocomplete.ConcordionExpressionCompletionContributor"/>

    <localInspection language="JAVA"
                     id="testFixtureIsNotAnnotatedWithConcordionRunner"
                     groupName="Concordion"
                     displayName="Test fixture is not annotated with @RunWith(ConcordionRunner.class)"
                     enabledByDefault="true"
                     level="ERROR"
                     implementationClass="com.gman.idea.plugin.concordion.inspection.TestFixtureIsNotAnnotatedWithConcordionRunner"/>
    <localInspection language="HTML"
                     id="usingFullOgnlExpression"
                     groupName="Concordion"
                     displayName="Using FullOGNL expression while test fixture is not annotated with @FullOGNL"
                     enabledByDefault="true"
                     level="ERROR"
                     implementationClass="com.gman.idea.plugin.concordion.inspection.FullOgnlRequired"/>
    <localInspection language="Concordion"
                     id="usingMapKeyAsField"
                     groupName="Concordion"
                     displayName="Using map key as a field"
                     enabledByDefault="true"
                     level="WARNING"
                     implementationClass="com.gman.idea.plugin.concordion.inspection.UsingMapKeyAsField"/>
    <localInspection language="Concordion"
                     id="usingUndeclaredVariable"
                     groupName="Concordion"
                     displayName="Using undeclared variable"
                     enabledByDefault="true"
                     level="WARNING"
                     implementationClass="com.gman.idea.plugin.concordion.inspection.UsingUndeclaredVariable"/>

    <codeInsight.lineMarkerProvider language="HTML" implementationClass="com.gman.idea.plugin.concordion.marker.HtmlSpecLineMarkerProvider"/>
    <codeInsight.lineMarkerProvider language="JAVA" implementationClass="com.gman.idea.plugin.concordion.marker.JavaRunnerLineMarkerProvider"/>

    <projectService serviceInterface="com.gman.idea.plugin.concordion.ConcordionNavigationService"
                    serviceImplementation="com.gman.idea.plugin.concordion.ConcordionNavigationService"/>
  </extensions>

  <application-components>
  </application-components>

  <project-components>
  </project-components>

  <actions>
    <action id="concordionSpecFilesNavigation"
            text="Navigate between concordion spec and fixture"
            description="Navigate between concordion spec and fixture"
            class="com.gman.idea.plugin.concordion.action.NavigateBetweenConcordionSpecFiles">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift S"/>
    </action>
  </actions>
</idea-plugin>